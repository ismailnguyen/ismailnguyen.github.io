import{W as v}from"./WorksService-71364690.js";import{_ as p,o as n,c as i,b as t,F as f,r as k,n as u,d as c,t as h,e as w,f as g,g as y,h as W,p as A,i as S}from"./index-ff28d8f2.js";const I={props:["items","duration","reverse","items_per_row"],data(){return{}},async created(){},methods:{cssClass:function(){return`--duration: ${this.duration}ms; --direction: ${this.reverse?"reverse":"normal"}`},shuffle:e=>[...e].sort(()=>.5-Math.random())},computed:{}},L={class:"inner"},b=["title"],P={class:"featuredpost__inner"},x={class:"media"},C={key:0,class:"media-left"},D={class:"icon is-large"},M=["src","alt"],T={class:"media-content"},B=["href"],F={class:"featuredpost__title"},H={key:0,class:"featuredpost__description"};function N(e,l,a,m,o,r){return n(),i("div",{class:"loop-slider",style:u(r.cssClass())},[t("div",L,[(n(!0),i(f,null,k(r.shuffle(a.items).slice(0,a.items_per_row),(s,d)=>(n(),i("div",{class:"featuredposts__item",key:d,title:s.title},[t("div",{class:"featuredpost",style:u(s.coverImage?"background-image: url("+s.coverImage.url+")":"")},[t("div",P,[t("div",x,[s.logo?(n(),i("div",C,[t("span",D,[t("img",{src:s.logo.url,alt:s.title},null,8,M)])])):c("",!0),t("div",T,[t("a",{href:"work/"+encodeURIComponent(s.id),class:"featuredpost__link"},[t("span",F,h(s.title),1)],8,B)])]),s.subTitle?(n(),i("p",H,h(s.subTitle),1)):c("",!0)])],4)],8,b))),128))])],4)}const V=p(I,[["render",N],["__scopeId","data-v-d55355e6"]]);const z={props:["showAll"],data(){return{works:[],showAllWorks:this.showAll||!1,isLoading:!0,sliderDuration:3e4}},components:{InfiniteLoopSlider:V},async created(){this.loadWorks(),this.fetchPortfolio(),this.startAnimation()},methods:{startAnimation:function(){[...document.querySelectorAll(".animated-column")].map(e=>{e.innerHTML=e.innerHTML+e.innerHTML})},loadWorks:function(){for(var e=0;e<7;e++)this.works.push({isPinned:!0,title:"..."})},fetchPortfolio:async function(){const e=new v;this.works=await e.getAllPages(),this.isLoading=!1},random:(e,l)=>Math.floor(Math.random()*(l-e))+e},computed:{pinnedWorks(){return this.works?this.works.filter(e=>e.isPinned):[]},unpinnedWorks(){return this.works?this.works.filter(e=>!e.isPinned):[]},displayedWorks:function(){return this.showAllWorks?this.works:this.works?this.works.filter(e=>e.isPinned):[]}}},q=e=>(A("data-v-beb29652"),e=e(),S(),e),E={class:"hero-body"},R={class:"container has-text-left"},U=q(()=>t("h3",{class:"title is-5"}," Featured Works ",-1)),j={key:0,class:"featuredposts__footer"};function G(e,l,a,m,o,r){const s=w("InfiniteLoopSlider");return n(),i("div",E,[t("div",R,[U,t("div",{class:g(["tag-list featuredposts__list",o.isLoading?"loading-skeleton":""])},[y(s,{duration:r.random(o.sliderDuration-5e3,o.sliderDuration+5e3),items_per_row:r.pinnedWorks.length,items:r.pinnedWorks},null,8,["duration","items_per_row","items"]),(n(!0),i(f,null,k(new Array(o.showAllWorks?2:1),(d,_)=>(n(),W(s,{reverse:_%2,duration:r.random(o.sliderDuration-5e3,o.sliderDuration+5e3),items_per_row:o.showAllWorks?r.unpinnedWorks.length/2:5,items:r.unpinnedWorks,key:_},null,8,["reverse","duration","items_per_row","items"]))),128))],2),!o.showAllWorks&&!o.isLoading?(n(),i("p",j,[t("a",{onClick:l[0]||(l[0]=d=>o.showAllWorks=!0),class:"featuredposts__see-all"}," See All Works ")])):c("",!0)])])}const O=p(z,[["render",G],["__scopeId","data-v-beb29652"]]);export{O as default};
